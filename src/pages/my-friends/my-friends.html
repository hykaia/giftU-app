<ion-header mode="md">
  <ion-navbar color="purple">
    <ion-title>
      <img height="30" src="assets/imgs/giftu-logo.png" />
    </ion-title>

    <ion-buttons end>
      <button ion-button (click)="openMyProfile()">
        <span class="dot"></span>
        <img src="assets/imgs/1.jpg" class="avatar-img" />
      </button>
    </ion-buttons>
    <ion-buttons start>
      <button ion-button icon-only (click)="Search()">
        <ion-icon name="search"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

  <ion-toolbar color="purple" class="segment-toolbar">
    <ion-segment [(ngModel)]="selectedSegment">
      <ion-segment-button
        [value]="slide.id"
        mode="md"
        *ngFor="let slide of Slides"
        (click)="segmentChanged(slide)"
      >
        {{ slide.value }}
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <div [ngSwitch]="selectedSegment" id="container" (swipe)="swipe($event)">
    <!-- My Friends -->
    <ion-grid *ngSwitchCase="'my_friends'" no-padding>
      <ion-row class="section-title">
        <ion-col>
          <p ion-text color="white" class="my-friends">My Friends</p>
        </ion-col>
        <ion-col align-self-center>
          <p
            float-right
            ion-text
            color="secondary"
            (click)="inviteBestFriends()"
          >
            invite your best friends
          </p>
        </ion-col>
      </ion-row>

      <loading *ngIf="isLoading"></loading>
      <!-- openUserProfile(friend) , -->
      <ion-row
        class="friend-wrapper-row"
        id="friend_{{ index }}"
        (click)="animateBlock(index, friend)"
        *ngFor="let friend of Friends; let index = index"
        [hidden]="isLoading"
      >
        <ion-col col-7 align-self-center>
          <ion-row>
            <ion-col col-4>
              <img src="assets/imgs/1.jpg" class="friend-img" />
            </ion-col>
            <ion-col col-8 align-self-center>
              <div class="name-status-wrapper">
                <div
                  ion-text
                  text-wrap
                  color="primary"
                  class="normal-size"
                  class="name"
                >
                  {{ friend?.name }}
                </div>
                <div ion-text color="gray" class="normal-size" class="status">
                  Happy and Satisfied
                </div>
              </div>
            </ion-col>
          </ion-row>
        </ion-col>

        <ion-col col-5 align-self-center>
          <div class="heart-wrapper">
            <ion-icon name="heart-outline"></ion-icon>
            <span ion-text color="primary" class="wishlist-txt normal-size"
              >10 wishlist</span
            >
          </div>
          <div class="gift-wrapper">
            <ion-icon name="ios-help-buoy"></ion-icon>
            <span ion-text color="primary" class="gift-txt normal-size"
              >2 gifts</span
            >
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>

    <!-- occasions -->
    <ion-grid *ngSwitchCase="'occasions'" no-padding>
      <ion-row class="section-title">
        <ion-col>
          <p ion-text color="white" class="my-friends">Occasions</p>
        </ion-col>
        <ion-col align-self-center (click)="createOccasion()">
          <p float-right ion-text color="secondary">Create new occasion</p>
        </ion-col>
      </ion-row>
      <loading *ngIf="isLoading"></loading>
      <ion-row
        class="friend-wrapper-row"
        *ngFor="let occasion of Occasions"
        [hidden]="isLoading && Occasions.length == 0"
      >
        <ion-col col-7 align-self-center>
          <ion-row>
            <ion-col col-4>
              <img src="assets/imgs/1.jpg" class="friend-img" />
            </ion-col>
            <ion-col col-8 align-self-center>
              <div class="name-status-wrapper">
                <div
                  ion-text
                  text-wrap
                  color="primary"
                  class="normal-size"
                  class="name"
                >
                  <!-- {{ occasion.name }} -->
                  test
                </div>
                <div ion-text color="gray" class="normal-size" class="status">
                  Happy and Satisfied
                </div>
              </div>
            </ion-col>
          </ion-row>
        </ion-col>

        <ion-col col-5 align-self-center>
          <ion-row>
            <ion-col col-4 align-self-center>
              <div class="remaining-days-wrapper" [class.adjust-middle]="0">
                <div class="remaining-days">
                  22
                </div>
                <div class="days-txt">
                  days
                </div>
                <!-- <div class="now" *ngIf="occasion.dayRemaining == 0">Now</div>
                <div></div> -->
              </div>
            </ion-col>
            <ion-col col-8>
              <img [src]="occasion.occasionImg" class="occasion-img" />
            </ion-col>
          </ion-row>
        </ion-col>
      </ion-row>
      <no-data
        *ngIf="Occasions.length == 0"
        data="No Occasions Found !"
      ></no-data>
    </ion-grid>

    <!-- Notifications -->
    <ion-grid *ngSwitchCase="'notifications'" no-padding>
      <ion-row class="section-title">
        <ion-col>
          <p ion-text color="white" class="my-friends">Notifications</p>
        </ion-col>
        <ion-col align-self-center>
          <p
            float-right
            ion-text
            color="secondary"
            (click)="inviteBestFriends()"
          >
            Invite your best friends
          </p>
        </ion-col>
      </ion-row>
      <loading *ngIf="isLoading"></loading>
      <ion-row
        class="notification-wrapper-row"
        *ngFor="let friend of Notifications"
        [hidden]="isLoading"
      >
        <ion-col col-12>
          <ion-row>
            <ion-col col-3 align-self-center>
              <img src="assets/imgs/1.jpg" class="friend-img" />
            </ion-col>
            <ion-col col-9 align-self-center>
              <div class="noti-name-wrapper">
                <div
                  ion-text
                  text-wrap
                  color="primary"
                  class="normal-size"
                  class="name"
                >
                  {{ friend.name }}
                </div>
                <div ion-text color="gray" class="normal-size" class="status">
                  {{ friend.notification }}
                </div>
                <div
                  ion-text
                  color="secondary"
                  class="noti-date"
                  class="status"
                >
                  {{ friend.date }}
                </div>
              </div>
            </ion-col>
            <ion-col col-12 class="hr-col">
              <hr class="hr" />
            </ion-col>
          </ion-row>
        </ion-col>

        <ion-col col-12>
          <div class="scroll-wrapper">
            <div class="emotion-box" *ngFor="let emotion of Emotions">
              {{ emotion.code }} {{ emotion.name }}
            </div>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>
